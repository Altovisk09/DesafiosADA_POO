<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas</title>
</head>

<body>
    <canvas id="desenho1" width="500" height="500" style="border: 1px solid #000;">
        Seu navegador não é compatível com o canvas.
    </canvas>
    
    <script>
        let canvas = document.getElementById('desenho1');
        let ctx = canvas.getContext('2d');

        let human = new Image();
        human.src = './char_a_p1_0bas_humn_v01.png';
        let numSprite = 0;
        let colunSprite = 6;
        let posIniX = 0;
        let posIniY = 0;
        let SpriteX = 8;
        let SpriteY = 8;

        human.addEventListener('load', ()=>{
            let largImg = human.width; 
            let altImg = human.height; 
            let largSprite = largImg/SpriteX;
            let altSprite = altImg/SpriteY;

            let anima = setInterval(()=>{
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                posIniY = colunSprite*altSprite;
                numSprite++
                if(numSprite >= 8){
                    numSprite = 0
                }

                posIniX = numSprite*largSprite;
                
                // imagem XiniR YiniR LargRecorte Altrecorte posX posY LargImagem AltImagem
                ctx.drawImage(human, posIniX, posIniY, largSprite, altSprite, 0, 0, 200, 200);
            }, 200)
        })

        
    </script>
</body>

</html>
